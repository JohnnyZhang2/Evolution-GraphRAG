#############################################
# Core Connections
#############################################
NEO4J_URI=bolt://localhost:7687            # Neo4j 连接 URI (示例)
NEO4J_USER=neo4j                           # Neo4j 用户名 (示例)
NEO4J_PASSWORD=CHANGE_ME                   # Neo4j 密码占位符，请修改

#############################################
# LLM / Embedding Models
#############################################
# Base URL & API Key (留空则使用默认本地推理地址)
#LLM_BASE_URL=http://127.0.0.1:1234
#LLM_API_KEY=YOUR_KEY_HERE
LLM_MODEL=openai/gpt-oss-120b              # 主回答/关系抽取 LLM 模型名称 (可替换)
EMBEDDING_MODEL=text-embedding-qwen3-embedding-0.6b   # 文档与查询向量模型 (可替换)

#############################################
# Retrieval Core
#############################################
TOP_K=8                                    # 初始向量检索返回数量
EXPAND_HOPS=1                              # 图扩展跳数 (2 允许关系/实体扩展)
CHUNK_SIZE=800                             # 切分块字符长度
CHUNK_OVERLAP=120                          # 相邻块重叠字符数

#############################################
# Relation Extraction
#############################################
RELATION_EXTRACTION=true                   # 是否启用 LLM 语义关系抽取
RELATION_WINDOW=2                          # Pairwise 窗口宽度（前后 N 区域配对）
RELATION_CHUNK_TRUNC=400                   # 每个 chunk 发送给 LLM 的截断长度
RELATION_LLM_TEMPERATURE=0.0               # 关系抽取温度，0 降低类型漂移
RELATION_DEBUG=false                       # 打印原始关系解析调试信息

#############################################
# Relation Weights
#############################################
REL_WEIGHT_STEP_NEXT=0.12                  # STEP_NEXT / 回退基础关系权重
REL_WEIGHT_REFERENCES=0.18                 # REFERENCES 关系权重
REL_WEIGHT_FOLLOWS=0.16                    # FOLLOWS 关系权重
REL_WEIGHT_CAUSES=0.22                     # CAUSES 因果关系权重
REL_WEIGHT_SUPPORTS=0.2                    # SUPPORTS 支持/证据权重
REL_WEIGHT_PART_OF=0.15                    # PART_OF 组成关系权重
REL_WEIGHT_SUBSTEP_OF=0.17                 # SUBSTEP_OF 子步骤权重
REL_WEIGHT_CONTRASTS=0.14                  # CONTRASTS 对比关系权重
REL_WEIGHT_DEFAULT=0.15                    # 未识别类型默认权重
REL_WEIGHT_RELATES=0.15                    # 共享实体 (RELATES_TO) 加成
REL_WEIGHT_COOCCUR=0.10                    # 共现 (CO_OCCURS_WITH) 加成

#############################################
# Typed Entity & Relation Schema (optional)
#############################################
# 启用结构化实体类型抽取 (false/true)
#ENTITY_TYPED_MODE=false
# 允许实体类型列表（逗号/分号分隔）
#ENTITY_TYPES=Person,Organization,Location,Product,Concept,Event
# 关系类型白名单强制过滤
#RELATION_ENFORCE_TYPES=false
# 白名单关系类型集合
#RELATION_TYPES=STEP_NEXT,CAUSES,SUPPORTS,REFERENCES,PART_OF,SUBSTEP_OF,CONTRASTS
# 非白名单回退类型（留空则丢弃）
#RELATION_FALLBACK_TYPE=STEP_NEXT

#############################################
# Normalization / Noise / Incremental
#############################################
# 实体同义规范化
#ENTITY_NORMALIZE_ENABLED=false
# 最小实体长度
#ENTITY_MIN_LENGTH=2
# 共现边最小计数 (prune)
#COOCCUR_MIN_COUNT=2
# Hash 增量开关
#HASH_INCREMENTAL_ENABLED=false

#############################################
# Optional Hybrid / Ranking
#############################################
#BM25_ENABLED=false
#BM25_WEIGHT=0.4
#BM25_MIN_DF=1
#GRAPH_RANK_ENABLED=false
#GRAPH_RANK_WEIGHT=0.1
#RERANK_ENABLED=false
#RERANK_ALPHA=0.5

#############################################
# Caches / Index
#############################################
#EMBED_CACHE_MAX=128
#ANSWER_CACHE_MAX=64
#VECTOR_INDEX_NAME=chunk_embedding_index

#############################################
# Embedding Advanced
#############################################
#EMBEDDING_BATCH_SIZE=64
#EMBEDDING_TIMEOUT=120
#EMBEDDING_MAX_RETRIES=6
#EMBEDDING_APPEND_EOS=false
#EMBEDDING_EOS_TOKEN=

#############################################
# Fallback & Misc
#############################################
#REL_FALLBACK_CONFIDENCE=0.3
#API_VERSION=0.1.0
#SYNONYMS_FILE=./synonyms.json
#HASH_ALGO=sha256
